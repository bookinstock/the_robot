# 0.0.2

## 找出逆转点
- 通过【k线】的开始结束判断【涨跌】
- 通过两个相邻 k线 的涨跌判断【趋势】
  - 若当前k线和上一个 k线 涨跌方向相同，则趋势保持不变
  - 若当前k线和上一个 k线 涨跌方向相反，则趋势发生逆转
- 趋势发生逆转时的那个 k线的起始点，定义为【逆转点】
  - 逆转点可分为【逆转上升点】和【逆转下降点】


## 划出趋势线
- 一段 k线 中的第一条 k线 的开始点定义为【起始点】
- 两点之间的价格减去之间的时间间隔为两点之间的【斜率】
- 用【栈】来存储趋势线所涉及到的点
    - 下降趋势线定义为【下降栈】
    - 上升趋势线定义为【上升栈】

### 下降线
1. 在一段 k线 的逆转点中找出所有的【逆转下降点】
2. 对【起始点】进行单独判断，若跌，则放入【下降栈中】，随后对逆转上升点进行遍历
3. 求当前元素和栈[-2]元素的斜率，记为【现斜率】
4. 求栈[-1]元素和栈[-2]元素的斜率，记为【前斜率】
   - 若现斜率大于前斜率，表示跌的更狠了，则将当前逆转点压如栈中
   - 若现斜率小于前斜率，表示没之前跌的厉害，则将栈顶元素抛出（小突破）
7. 递归执行（3-4）步骤，直到当前元素被压入占中，或者栈中只剩一个元素
6. 若只剩下一个元素，则判断当前元素的价格是否大于栈中元素的价格
   - 若当前元素的价格大于栈中元素的价格，则抛出栈中元素，自己进去（完全突破）
   - 若当前元素的价格小于栈中元素的价格，则将当前元素压如栈中

### 上升线
1. 在一段 k线 的逆转点中找出所有的【逆转上升点】
2. 对【起始点】进行单独判断，若涨，则放入【上升栈中】，随后对逆转上升点进行遍历
3. 求当前元素和栈[-2]元素的斜率，记为【现斜率】
4. 求栈[-1]元素和栈[-2]元素的斜率，记为【前斜率】
   - 若现斜率大于前斜率，表示涨的更狠了，则将当前逆转点压如栈中
   - 若现斜率小于前斜率，表示没之前涨的厉害，则将栈顶元素抛出（小突破）
7. 递归执行（3-4）步骤，直到当前元素被压入占中，或者栈中只剩一个元素
6. 若只剩下一个元素，则判断当前元素的价格是否小于栈中元素的价格
   - 若当前元素的价格小于栈中元素的价格，则抛出栈中元素，自己进去（完全突破）
   - 若当前元素的价格大于栈中元素的价格，则将当前元素压如栈中


## 趋势线交易
- 突破下降趋势线，进行买入操作
- 突破上升趋势线，进行卖出操作
