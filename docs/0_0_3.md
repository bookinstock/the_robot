# 0.0.2

## 交易策略2：趋势线交易

- 定义
    - 当突破趋势线时，进行买卖操作
    - if 突破下降趋势线，进行买入操作
    - if 跌破上升趋势线，进行卖出操作

- 趋势线定义：
    - 上涨趋势将底部的点连成线，形成上升趋势线
    - 下跌趋势将顶部的点连成线，形成下降趋势线

- 逆转线定义：
    - 与上一条k线方向相反的k线

- 实现逻辑：
    - 分别用两个栈来存储逆转线
    - 向上逆转的k线存储在上升栈，用来计算上升趋势线
    - 向下逆转的k线存储在下降栈，用来计算下降趋势线
    - if 当前k线上升突破下降趋势线，进行买入
    - if 当前k线上升突破上升趋势线，进行卖出
    - 如何检验趋势线突破？
        - if 下降栈中的元素数量只有一个
            - 判断该元素的开始点和当前元素的结束点的高度
                - if 栈中元素的开始点大于当前k的结束点，则代表为突破新高
                - if 栈中元素的开始点小于当前k的结束点，代表突破新高，将栈清空
        - if 下降栈中的元素数量大于一个
            - 分别判断下降栈中倒数第二条逆转k和倒数第一条逆转k的开始点位到当前k线的结束点位之间的斜率
                - if 斜率变大，代表下跌的更快，也就是没有突破
                - if 斜率变小，代表下跌趋势得到减缓，也就是突破了，将上一条逆转k线弹出下降栈，并且执行递归操作
    - 注意：
        - 上升趋势线和下降趋势线可能有多条
        - 某次突破可能值突破了斜率最陡的那条
    - 优化：
        - 可以使用趋势线上点的数量来增加趋势线的强弱，从而在突破时，改变操作资产的比例
            - 通过对近似斜率的趋势线进行合并操作
        - 可以使用趋势栈中逆转k线的数量和距离当前k的位置来判断大趋势
            - 顺大逆小交易？


